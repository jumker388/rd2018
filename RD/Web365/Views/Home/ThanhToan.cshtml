@model Web365Domain.UserInfo
<script src="~/Content/tq99/js/libs/jquery-1.11.2.min.js"></script>
<script src="~/Content/Admin/js/jquery.validate.min.js"></script>
<link href="~/Content/tq99/css/bootstrap.min.css" rel="stylesheet" />
<link href="~/Content/tq99/css/payment.css" rel="stylesheet" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">

<script language="javascript">
    $('input[name="option_payment"]').bind('click', function () {
        $('.list-content li').removeClass('active');
        $(this).parent().parent('li').addClass('active');
    });
</script>
<div style="width: 85%; margin: 0 auto;">

    <h3>Chọn phương thức thanh toán</h3>
    <form id="ttol">
        <ul class="list-content">
            <li class="active">
                <div class="headpay">
                    <input checked="checked" id="ATM_ONLINE" type="radio" name="option_payment" value="ATM_ONLINE">Thanh toán online bằng thẻ ngân hàng nội địa
                </div>
                <div class="boxContent">
                    <p>
                        <i>
                            <span style="color:#ff5a00;font-weight:bold;text-decoration:underline;">Lưu ý</span>: Bạn cần đăng ký Internet-Banking hoặc dịch vụ thanh toán trực tuyến tại ngân hàng trước khi thực hiện.
                        </i>
                    </p>

                    <ul class="cardList clearfix">
                        
                        <li class="bank-online-methods ">
                            <label for="bidv_ck_on">
                                <i class="BIDV" title="Ngân hàng TMCP Đầu tư & Phát triển Việt Nam"></i>
                                <input id="BIDV" type="radio" name="bankcode" value="BIDV">

                            </label>
                        </li>

                        <li class="bank-online-methods ">
                            <label for="vcb_ck_on">
                                <i class="VCB" title="Ngân hàng TMCP Ngoại Thương Việt Nam"></i>
                                <input id="VCB" type="radio" name="bankcode" value="VCB">

                            </label>
                        </li>

                        <li class="bank-online-methods ">
                            <label for="vnbc_ck_on">
                                <i class="DAB" title="Ngân hàng Đông Á"></i>
                                <input id="DAB" type="radio" name="bankcode" value="DAB">

                            </label>
                        </li>

                        <li class="bank-online-methods ">
                            <label for="tcb_ck_on">
                                <i class="TCB" title="Ngân hàng Kỹ Thương"></i>
                                <input id="TCB" type="radio" name="bankcode" value="TCB">
                            </label>
                        </li>

                        <li class="bank-online-methods ">
                            <label for="sml_atm_mb_ck_on">
                                <i class="MB" title="Ngân hàng Quân Đội"></i>
                                <input id="MB" type="radio" name="bankcode" value="MB">

                            </label>
                        </li>

                        <li class="bank-online-methods ">
                            <label for="shb_ck_on">
                                <i class="SHB" title="Ngân hàng Sài Gòn - Hà Nội"></i>
                                <input id="SHB" type="radio" name="bankcode" value="SHB">

                            </label>
                        </li>

                        <li class="bank-online-methods ">
                            <label for="sml_atm_vib_ck_on">
                                <i class="VIB" title="Ngân hàng Quốc tế"></i>
                                <input id="VIB" type="radio" name="bankcode" value="VIB">

                            </label>
                        </li>

                        <li class="bank-online-methods ">
                            <label for="sml_atm_vtb_ck_on">
                                <i class="ICB" title="Ngân hàng Công Thương Việt Nam"></i>
                                <input id="ICB" type="radio" name="bankcode" value="ICB">

                            </label>
                        </li>

                        <li class="bank-online-methods ">
                            <label for="sml_atm_exb_ck_on">
                                <i class="EXB" title="Ngân hàng Xuất Nhập Khẩu"></i>
                                <input id="EXB" type="radio" name="bankcode" value="EXB">

                            </label>
                        </li>

                        <li class="bank-online-methods ">
                            <label for="sml_atm_acb_ck_on">
                                <i class="ACB" title="Ngân hàng Á Châu"></i>
                                <input id="ACB" type="radio" name="bankcode" value="ACB">

                            </label>
                        </li>

                        <li class="bank-online-methods ">
                            <label for="sml_atm_hdb_ck_on">
                                <i class="HDB" title="Ngân hàng Phát triển Nhà TPHCM"></i>
                                <input id="HDB" type="radio" name="bankcode" value="HDB">

                            </label>
                        </li>

                        <li class="bank-online-methods ">
                            <label for="sml_atm_msb_ck_on">
                                <i class="MSB" title="Ngân hàng Hàng Hải"></i>
                                <input id="MSB" type="radio" name="bankcode" value="MSB">

                            </label>
                        </li>

                        <li class="bank-online-methods ">
                            <label for="sml_atm_nvb_ck_on">
                                <i class="NVB" title="Ngân hàng Nam Việt"></i>
                                <input id="NVB" type="radio" name="bankcode" value="NVB">

                            </label>
                        </li>

                        <li class="bank-online-methods ">
                            <label for="sml_atm_vab_ck_on">
                                <i class="VAB" title="Ngân hàng Việt Á"></i>
                                <input id="VAB" type="radio" name="bankcode" value="VAB">

                            </label>
                        </li>

                        <li class="bank-online-methods ">
                            <label for="sml_atm_vpb_ck_on">
                                <i class="VPB" title="Ngân Hàng Việt Nam Thịnh Vượng"></i>
                                <input id="VPB" type="radio" name="bankcode" value="VPB">

                            </label>
                        </li>

                        <li class="bank-online-methods ">
                            <label for="sml_atm_scb_ck_on">
                                <i class="SCB" title="Ngân hàng Sài Gòn Thương tín"></i>
                                <input id="SCB" type="radio" name="bankcode" value="SCB">

                            </label>
                        </li>

                        <li class="bank-online-methods ">
                            <label for="ojb_ck_on">
                                <i class="OJB" title="Ngân hàng Đại Dương"></i>
                                <input id="OJB" type="radio" name="bankcode" value="OJB">

                            </label>
                        </li>

                        <li class="bank-online-methods ">
                            <label for="bnt_atm_pgb_ck_on">
                                <i class="PGB" title="Ngân hàng Xăng dầu Petrolimex"></i>
                                <input id="PGB" type="radio" name="bankcode" value="PGB">

                            </label>
                        </li>

                        <li class="bank-online-methods ">
                            <label for="bnt_atm_gpb_ck_on">
                                <i class="GPB" title="Ngân hàng TMCP Dầu khí Toàn Cầu"></i>
                                <input id="GPB" type="radio" name="bankcode" value="GPB">

                            </label>
                        </li>

                        <li class="bank-online-methods ">
                            <label for="bnt_atm_agb_ck_on">
                                <i class="AGB" title="Ngân hàng Nông nghiệp &amp; Phát triển nông thôn"></i>
                                <input id="AGB" type="radio" name="bankcode" value="AGB">

                            </label>
                        </li>

                        <li class="bank-online-methods ">
                            <label for="bnt_atm_sgb_ck_on">
                                <i class="SGB" title="Ngân hàng Sài Gòn Công Thương"></i>
                                <input id="SGB" type="radio" name="bankcode" value="SGB">

                            </label>
                        </li>

                        <li class="bank-online-methods ">
                            <label for="bnt_atm_nab_ck_on">
                                <i class="NAB" title="Ngân hàng Nam Á"></i>
                                <input id="NAB" type="radio" name="bankcode" value="NAB">

                            </label>
                        </li>

                        <li class="bank-online-methods ">
                            <label for="sml_atm_bab_ck_on">
                                <i class="BAB" title="Ngân hàng Bắc Á"></i>
                                <input id="BAB" type="radio" name="bankcode" value="BAB">

                            </label>
                        </li>

                    </ul>

                </div>
            </li>
            <li class="">
                <div class="headpay">
                    <input id="VISA" type="radio" name="option_payment" value="VISA">Thanh toán bằng thẻ Visa hoặc MasterCard
                </div>
                <div class="boxContent">
                    <ul class="cardList clearfix">

                        <li class="bank-online-methods ">
                            <label for="vcb_ck_on">
                                <img src="/Content/visa/30visa.jpg" alt="">
                                <input id="VISA" type="radio" name="bankcode" value="VISA">
                            </label>
                        </li>
                        
                        <li class="bank-online-methods ">
                            <label for="vcb_ck_on">
                                <img src="/Content/visa/31master.jpg" alt="">
                                <input id="MASTER" type="radio" name="bankcode" value="MASTER">
                            </label>
                        </li>
                        
                        <li class="bank-online-methods ">
                            <label for="vcb_ck_on">
                                <img src="/Content/visa/32jcb.jpg" alt="">
                                <input id="JCB" type="radio" name="bankcode" value="JCB">
                            </label>
                        </li>

                    </ul>

                </div>
            </li>
        </ul>

        <div class="row">
            <div class="span12">
                <p><span style="color:#ff5a00;font-weight:bold;text-decoration:underline;">Lưu ý</span> Bạn nhập đầy đủ thông tin sau </p>
            </div>
        </div>
        <div class="row" style="display: none;">
            <div class="span12">
                <div class="form-group">
                    <label for="buyer_fullname">Họ Tên :</label>
                    <input value="Tuquy" name="buyer_fullname" type="text" id="buyer_fullname" class="form-control" />
                    <input value="@Model.uid" name="uid" type="hidden" id="uid">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="span12">
                <div class="form-group">
                    <label for="buyer_mobile">Số Điện thoại :</label>
                    <input value="@Model.phone" name="buyer_mobile" type="tel" id="buyer_mobile" class="form-control" />
                </div>
            </div>
        </div>
        <div class="row" style="display: none;">
            <div class="span12">
                <div class="form-group">
                    <label for="buyer_email">Email:</label>
                    <input value="mk.khang.bscs@gmail.com" name="buyer_email" type="text" id="buyer_email" class="form-control" />
                </div>
            </div>
        </div>

        <div class="row">
            <div class="span12">
                <div class="form-group">
                    <label for="buyer_email">Số tiền:</label>
                    <select name="money" id="money" class="selectpicker form-control">
                        <option selected value="50000">50.000 VNĐ</option>
                        <option value="100000">100.000 VNĐ</option>
                        <option value="200000">200.000 VNĐ</option>
                        <option value="500000">500.000 VNĐ</option>
                        <option value="1000000">1.000.000 VNĐ</option>
                        <option value="2000000">2.000.000 VNĐ</option>
                        <option value="5000000">5.000.000 VNĐ</option>
                        <option value="10000000">10.000.000 VNĐ</option>
                        <option value="20000000">20.000.000 VNĐ</option>
                    </select>

                </div>
            </div>
        </div>

        <div class="row">
            <div class="span12">
                <div class="form-group">
                    <button type="submit" class="btn btn-default" name="nlpayment" id="nlpayment">Thanh toán</button>
                </div>
            </div>
        </div>
    </form>
</div>


<script language="javascript">
    $('input[name="option_payment"]').bind('click', function () {
        $('.list-content li').removeClass('active');
        $(this).parent().parent('li').addClass('active');
    });

    $("#ttol").validate({
        rules: {
            buyer_fullname: {
                required: true,
            },
            buyer_email: {
                email: true,
                required: true
            },
            buyer_mobile: {
                required: true,
            },
        },
        messages: {
            buyer_fullname: {
                required: "Quý khách cần điền tên"
            },
            buyer_email: {
                email: "Quý khách cần điền email đúng định dạng",
                required: "Quý khách cần điền email"
            },
            buyer_mobile: {
                required: "Quý khách cần điền số điện thoại",
            }
        },
        submitHandler: function (form) {
            var paymentMethod = $('input[name=option_payment]:checked').val();
            var strBankcode = $('input[name=bankcode]:checked').val();
            if (strBankcode == undefined) {
                alert('Vui lòng chọn ngân hàng');
                return false;
            }
            var name = $('#buyer_fullname').val();
            var email = $('#buyer_email').val();
            var mobile = $('#buyer_mobile').val();
            var uid = $('#uid').val();
            var money = $('#money').val();

            $.post("/ajax/Home/GetLinkNl", { paymentMethod: paymentMethod, strBankcode: strBankcode, name: name, email: email, mobile: mobile, uid: uid, money: money }, function (data) {
                window.location.href = data.content;
            });
            return false;
        }
    });

</script>